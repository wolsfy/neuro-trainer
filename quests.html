<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</title>
    <link rel="stylesheet" href="css/style.css">
    
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–º—ã -->
    <script src="/neuro-trainer/js/theme-loader.js?v=2"></script>
    
    <style>
        body{overflow:hidden}
        .screen{overflow-y:auto!important;height:100vh!important}
        .streak-banner{background:linear-gradient(135deg,#FF9800,#F57C00);color:white;padding:20px;border-radius:16px;margin:20px 20px 10px 20px;text-align:center;box-shadow:0 4px 16px rgba(255,152,0,0.4)}.streak-number{font-size:3rem;font-weight:900;display:block}.streak-label{font-size:1.1rem;opacity:0.9;margin-top:5px}.next-reward{font-size:0.9rem;margin-top:10px;padding:10px;background:rgba(255,255,255,0.2);border-radius:8px}
        .quests-container{padding:0 20px 30px 20px}.quest-card{background:var(--card-bg);border-radius:16px;padding:20px;margin-bottom:15px;box-shadow:0 4px 12px rgba(0,0,0,0.1);transition:transform 0.2s}.quest-card:active{transform:scale(0.98)}.quest-card.completed{background:linear-gradient(135deg,#E8F5E9,#C8E6C9);border:2px solid #4CAF50}.quest-header{display:flex;align-items:center;gap:15px;margin-bottom:10px}.quest-icon{font-size:2.5rem}.quest-info{flex:1}.quest-name{font-size:1.2rem;font-weight:bold;color:var(--text);margin-bottom:5px}.quest-desc{font-size:0.85rem;color:#777}.progress-bar{width:100%;height:8px;background:#E0E0E0;border-radius:4px;overflow:hidden;margin:10px 0}.progress-fill{height:100%;background:linear-gradient(90deg,var(--primary),var(--accent));border-radius:4px;transition:width 0.3s}.progress-text{font-size:0.9rem;color:var(--text);font-weight:bold;text-align:center}.reward-box{display:flex;gap:10px;justify-content:center;margin-top:10px;font-size:0.9rem;font-weight:bold;color:#FF9800}.completed-badge{background:#4CAF50;color:white;padding:5px 15px;border-radius:20px;font-size:0.85rem;font-weight:bold}
        .all-complete-banner{background:linear-gradient(135deg,#4CAF50,#45a049);color:white;padding:25px;border-radius:16px;margin:10px 20px;text-align:center;box-shadow:0 4px 16px rgba(76,175,80,0.4);animation:pulse 2s infinite}@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.02)}}.complete-icon{font-size:4rem;margin-bottom:10px}.complete-text{font-size:1.3rem;font-weight:bold}
    </style>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="js/level-system.js"></script>
    <script src="js/energy-system.js"></script>
    <script src="js/daily-quests.js"></script>
</head>
<body>
    <div class="top-bar"><a href="index.html" class="btn-back">‚Üê</a><div class="game-info">üéØ –ó–∞–¥–∞–Ω–∏—è</div></div>
    
    <div class="screen" style="padding-top:60px">
        <div class="streak-banner">
            <div class="streak-number" id="streak-num">üî• 0</div>
            <div class="streak-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
            <div class="next-reward" id="next-reward"></div>
        </div>
        
        <div id="all-complete-banner" style="display:none" class="all-complete-banner">
            <div class="complete-icon">‚úÖ</div>
            <div class="complete-text">–í—Å–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!</div>
            <div style="margin-top:10px;font-size:0.9rem">–í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –∑–∞–≤—Ç—Ä–∞ –∑–∞ –Ω–æ–≤—ã–º–∏!</div>
        </div>
        
        <div class="quests-container" id="quests-list"></div>
    </div>
    
    <script>
        function updateQuestsDisplay(){const quests=window.dailyQuests.getQuests(),streak=window.dailyQuests.getStreak(),nextReward=window.dailyQuests.getNextStreakReward(),allComplete=window.dailyQuests.getAllCompleted();document.getElementById('streak-num').innerHTML=`üî• ${streak}`;if(nextReward){document.getElementById('next-reward').innerHTML=`üéØ –°–ª–µ–¥. –Ω–∞–≥—Ä–∞–¥–∞ —á–µ—Ä–µ–∑ ${nextReward.day-streak} –¥–Ω.: ${nextReward.coins} üí∞ + ${nextReward.xp} XP`}else{document.getElementById('next-reward').innerHTML='üèÜ –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ streak!'}const list=document.getElementById('quests-list');list.innerHTML='';quests.forEach(q=>{const percentage=Math.min((q.current/q.target)*100,100);const card=document.createElement('div');card.className='quest-card'+(q.completed?' completed':'');card.innerHTML=`<div class="quest-header"><div class="quest-icon">${q.icon}</div><div class="quest-info"><div class="quest-name">${q.name}</div><div class="quest-desc">${q.description}</div></div>${q.completed?'<div class="completed-badge">‚úî –ì–æ—Ç–æ–≤–æ</div>':''}</div><div class="progress-bar"><div class="progress-fill" style="width:${percentage}%"></div></div><div class="progress-text">${q.current} / ${q.target}</div><div class="reward-box">${q.rewards.coins>0?'+'+q.rewards.coins+' üí∞':''}${q.rewards.xp>0?' +'+q.rewards.xp+' XP':''}</div>`;list.appendChild(card)});document.getElementById('all-complete-banner').style.display=allComplete?'block':'none';if(allComplete){confetti({particleCount:100,spread:70,origin:{y:0.6}})}}
        
        updateQuestsDisplay();
        
        setInterval(()=>{
            window.dailyQuests.checkDailyReset();
            updateQuestsDisplay();
        },60000);
    </script>
</body>
</html>