<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠—Ñ—Ñ–µ–∫—Ç –°—Ç—Ä—É–ø–∞ - –¶–≤–µ—Ç–∞</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/mobile.css?v=5">
    <style>
@media (max-width: 768px) { body { overflow-y: auto !important; } .screen { padding-top: 100px !important; padding-bottom: 100px !important; } #game-robot, .robot-container { display: none !important; left: -9999px !important; } .top-bar { position: fixed !important; top: 0 !important; z-index: 1001 !important; } }
.mobile-hint { position: fixed; top: 60px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 12px 24px; border-radius: 12px; font-size: 1rem; font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000; animation: hintSlideIn 0.3s ease-out; max-width: 80%; text-align: center; }
@keyframes hintSlideIn { from { top: 40px; opacity: 0; } to { top: 60px; opacity: 1; } }
.mobile-hint.success { background: linear-gradient(135deg, #4CAF50, #45a049); }
.mobile-hint.error { background: linear-gradient(135deg, #F44336, #D32F2F); }
.mobile-hint.combo { background: linear-gradient(135deg, #FF9800, #F57C00); }
.word-display{font-size:4rem;font-weight:900;margin:40px 0;min-height:80px;display:flex;align-items:center;justify-content:center;text-shadow:2px 2px 4px rgba(0,0,0,0.2)}.color-options{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;max-width:400px;margin:0 auto;padding:20px}.color-btn{padding:20px;border:none;border-radius:12px;font-size:1.2rem;font-weight:bold;color:white;cursor:pointer;transition:all 0.2s;box-shadow:0 4px 12px rgba(0,0,0,0.2)}.color-btn:active{transform:scale(0.95);box-shadow:0 2px 6px rgba(0,0,0,0.2)}.timer-bar{width:100%;height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden;margin-bottom:20px}.timer-fill{height:100%;background:linear-gradient(90deg,#4CAF50,#FF9800,#F44336);transition:width 0.1s linear}
    </style>
    <script src="../js/game-stats.js"></script>
    <script src="../js/level-system.js"></script>
</head>
<body>
    <div class="top-bar"><a href="../index.html" class="btn-back">‚Üê</a><div class="game-info" id="score">0</div></div>
    <div class="screen"><div class="timer-bar"><div class="timer-fill" id="timer-fill"></div></div><div class="word-display" id="word"></div><div class="color-options" id="options"></div></div>
    <script>
const isMobile=window.innerWidth<=768;function showMobileHint(t,e='default'){if(!isMobile)return;const i=document.querySelector('.mobile-hint');i&&i.remove();const n=document.createElement('div');n.className=`mobile-hint ${e}`,n.textContent=t,document.body.appendChild(n),setTimeout(()=>{n.style.opacity='0',n.style.top='40px',n.style.transition='all 0.3s',setTimeout(()=>n.remove(),300)},2e3)}if(isMobile){window.gameRobot=null;setInterval(()=>{document.querySelectorAll('#game-robot, .robot-container').forEach(e=>{e&&e.remove()})},100)}
let score=0,timeLeft=30,currentWord,currentColor,colors=[{name:'–ö—Ä–∞—Å–Ω—ã–π',value:'#F44336'},{name:'–°–∏–Ω–∏–π',value:'#2196F3'},{name:'–ó–µ–ª—ë–Ω—ã–π',value:'#4CAF50'},{name:'–ñ—ë–ª—Ç—ã–π',value:'#FFD700'}],streak=0;function startGame(){score=0;timeLeft=30;streak=0;document.getElementById('score').textContent=score;if(isMobile)showMobileHint('üé® –ù–∞–∑—ã–≤–∞–π –¶–í–ï–¢ —Ç–µ–∫—Å—Ç–∞!','success');nextRound();const t=setInterval(()=>{timeLeft--;const e=document.getElementById('timer-fill');e.style.width=timeLeft/30*100+'%';if(timeLeft<=0){clearInterval(t);endGame()}},1e3)}function nextRound(){const t=colors[Math.floor(Math.random()*colors.length)],e=colors[Math.floor(Math.random()*colors.length)];currentWord=t.name;currentColor=e.value;const n=document.getElementById('word');n.textContent=currentWord;n.style.color=currentColor;const o=document.getElementById('options');o.innerHTML='';colors.forEach(t=>{const e=document.createElement('button');e.className='color-btn';e.textContent=t.name;e.style.backgroundColor=t.value;e.onclick=()=>checkAnswer(t.value);o.appendChild(e)})}function checkAnswer(t){if(t===currentColor){score+=10;streak++;document.getElementById('score').textContent=score;if(isMobile){if(streak%5===0)showMobileHint(`üî• –°–µ—Ä–∏—è x${streak}!`,'combo');else if(Math.random()<0.3)showMobileHint(['üëç –í–µ—Ä–Ω–æ!','‚ú® –û—Ç–ª–∏—á–Ω–æ!','üéØ –¢–æ—á–Ω–æ!'][Math.floor(Math.random()*3)],'success')}if(window.levelSystem){const t=window.levelSystem.addXP(5);Math.random()<0.2&&window.showXPNotification(5);t.leveledUp&&setTimeout(()=>window.showLevelUpNotification(t.oldLevel,t.newLevel),600)}nextRound()}else{streak=0;if(isMobile)showMobileHint('‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ','error');timeLeft=Math.max(0,timeLeft-3);document.getElementById('timer-fill').style.width=timeLeft/30*100+'%'}}function endGame(){if(isMobile)showMobileHint('üéâ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!','success');const t=Math.floor(score/2);window.GameStats&&window.GameStats.addCoins(t);alert(`–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!\n–û—á–∫–∏: ${score}\n–í—ã –ø–æ–ª—É—á–∏–ª–∏ ${t} –º–æ–Ω–µ—Ç üí∞`);startGame()}document.addEventListener('DOMContentLoaded',startGame);
    </script>
</body>
</html>