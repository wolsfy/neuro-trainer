<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ò–≥—Ä—ã - –ù–µ–π—Ä–æ-–¢—Ä–µ–Ω–µ—Ä</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="apple-touch-icon" href="https://img.icons8.com/color/180/brain--v1.png">
    <link rel="icon" type="image/png" href="https://img.icons8.com/color/96/brain--v1.png">
    <style>
        .games-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:15px;padding:20px;max-width:600px;margin:0 auto}.game-card{background:white;border-radius:16px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,0.1);cursor:pointer;transition:all 0.3s;text-decoration:none;color:inherit;display:flex;flex-direction:column;align-items:center;position:relative}.game-card:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,0.15)}.game-card:active{transform:translateY(-2px)}.game-icon{font-size:3.5rem;margin-bottom:10px}.game-name{font-size:1.1rem;font-weight:bold;color:#333;margin-bottom:5px;text-align:center}.game-info{font-size:0.85rem;color:#666;text-align:center;margin-bottom:8px}.energy-cost{background:linear-gradient(135deg,#4CAF50,#45a049);color:white;padding:5px 12px;border-radius:20px;font-size:0.9rem;font-weight:bold;display:inline-flex;align-items:center;gap:5px}.difficulty{position:absolute;top:10px;right:10px;padding:4px 10px;border-radius:12px;font-size:0.75rem;font-weight:bold}.diff-easy{background:#E8F5E9;color:#4CAF50}.diff-medium{background:#FFF3E0;color:#FF9800}.diff-hard{background:#FFEBEE;color:#F44336}.best-score{font-size:0.8rem;color:#FF9800;margin-top:8px;font-weight:bold}.filter-bar{display:flex;gap:10px;padding:15px 20px;justify-content:center;flex-wrap:wrap}.filter-btn{background:#E0E0E0;color:#555;border:none;padding:8px 16px;border-radius:20px;font-size:0.9rem;cursor:pointer;font-weight:bold;transition:all 0.3s}.filter-btn.active{background:var(--primary);color:white;box-shadow:0 4px 10px rgba(33,150,243,0.3)}.energy-display{position:fixed;top:10px;left:10px;background:linear-gradient(135deg,#4CAF50,#45a049);color:white;padding:12px 20px;border-radius:16px;box-shadow:0 4px 16px rgba(76,175,80,0.4);z-index:1000;min-width:120px;cursor:pointer;transition:transform 0.2s}.energy-display:hover{transform:scale(1.05)}.energy-value{font-size:1.8rem;font-weight:900;text-align:center;display:block}.energy-label{font-size:0.9rem;text-align:center;opacity:0.9;display:block;margin-top:2px}
    </style>
    <script src="js/energy-system.js"></script>
</head>
<body>
    <div class="energy-display" onclick="showEnergyInfo()">
        <span class="energy-value" id="energy-value">100</span>
        <span class="energy-label">‚ö° –≠–Ω–µ—Ä–≥–∏—è</span>
    </div>
    
    <div class="top-bar">
        <a href="index.html" class="btn-back">‚Üê</a>
        <div class="game-info">üéÆ –ò–≥—Ä—ã</div>
    </div>
    
    <div class="screen" style="padding-top:60px;overflow-y:auto">
        <div class="filter-bar">
            <button class="filter-btn active" onclick="filterGames('all')">üìã –í—Å–µ</button>
            <button class="filter-btn" onclick="filterGames('easy')">üü¢ –õ–µ–≥–∫–∏–µ</button>
            <button class="filter-btn" onclick="filterGames('medium')">üü° –°—Ä–µ–¥–Ω–∏–µ</button>
            <button class="filter-btn" onclick="filterGames('hard')">üî¥ –°–ª–æ–∂–Ω—ã–µ</button>
        </div>
        
        <div class="games-grid" id="games-grid">
            <a href="javascript:void(0)" onclick="startGame('schulte')" class="game-card" data-difficulty="easy">
                <span class="difficulty diff-easy">üü¢ –õ–µ–≥–∫–æ</span>
                <div class="game-icon">üî¢</div>
                <div class="game-name">–®—É–ª—å—Ç–µ</div>
                <div class="game-info">–ù–∞–π–¥–∏ —á–∏—Å–ª–∞ –ø–æ –ø–æ—Ä—è–¥–∫—É</div>
                <div class="energy-cost">‚ö° 10</div>
                <div class="best-score" id="best-schulte">üèÜ --:--</div>
            </a>
            
            <a href="javascript:void(0)" onclick="startGame('memory')" class="game-card" data-difficulty="medium">
                <span class="difficulty diff-medium">üü° –°—Ä–µ–¥–Ω–µ–µ</span>
                <div class="game-icon">üí°</div>
                <div class="game-name">–ü–∞–º—è—Ç—å</div>
                <div class="game-info">–ó–∞–ø–æ–º–Ω–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
                <div class="energy-cost">‚ö° 15</div>
                <div class="best-score" id="best-memory">üèÜ –õ—É—á—à–∏–π: --</div>
            </a>
            
            <a href="javascript:void(0)" onclick="startGame('decoder')" class="game-card" data-difficulty="medium">
                <span class="difficulty diff-medium">üü° –°—Ä–µ–¥–Ω–µ–µ</span>
                <div class="game-icon">üß©</div>
                <div class="game-name">–®–∏—Ñ—Ä</div>
                <div class="game-info">–†–∞—Å—à–∏—Ñ—Ä—É–π —Å–æ–æ–±—â–µ–Ω–∏—è</div>
                <div class="energy-cost">‚ö° 15</div>
                <div class="best-score" id="best-decoder">üèÜ –õ—É—á—à–∏–π: --</div>
            </a>
            
            <a href="javascript:void(0)" onclick="startGame('2048')" class="game-card" data-difficulty="medium">
                <span class="difficulty diff-medium">üü° –°—Ä–µ–¥–Ω–µ–µ</span>
                <div class="game-icon">üé≤</div>
                <div class="game-name">2048</div>
                <div class="game-info">–û–±—ä–µ–¥–∏–Ω—è–π –ø–ª–∏—Ç–∫–∏</div>
                <div class="energy-cost">‚ö° 15</div>
                <div class="best-score" id="best-2048">üèÜ –õ—É—á—à–∏–π: --</div>
            </a>
            
            <a href="javascript:void(0)" onclick="startGame('stroop')" class="game-card" data-difficulty="hard">
                <span class="difficulty diff-hard">üî¥ –°–ª–æ–∂–Ω–æ</span>
                <div class="game-icon">üé®</div>
                <div class="game-name">–¶–≤–µ—Ç–∞</div>
                <div class="game-info">–ù–∞–∑–æ–≤–∏ —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</div>
                <div class="energy-cost">‚ö° 20</div>
                <div class="best-score" id="best-stroop">üèÜ –õ—É—á—à–∏–π: --</div>
            </a>
            
            <a href="javascript:void(0)" onclick="startGame('math')" class="game-card" data-difficulty="hard">
                <span class="difficulty diff-hard">üî¥ –°–ª–æ–∂–Ω–æ</span>
                <div class="game-icon">üßÆ</div>
                <div class="game-name">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</div>
                <div class="game-info">–†–µ—à–∞–π –ø—Ä–∏–º–µ—Ä—ã –±—ã—Å—Ç—Ä–æ</div>
                <div class="energy-cost">‚ö° 20</div>
                <div class="best-score" id="best-math">üèÜ –õ—É—á—à–∏–π: --</div>
            </a>
        </div>
    </div>
    
    <script>
        function loadBestScores(){const schulte5=localStorage.getItem('schulte_best_5');if(schulte5)document.getElementById('best-schulte').textContent=`üèÜ ${schulte5}—Å`;const memory=localStorage.getItem('neuroMemoryBest');if(memory)document.getElementById('best-memory').textContent=`üèÜ ${memory} –æ—á`;const decoder=localStorage.getItem('neuroDecoderBest');if(decoder)document.getElementById('best-decoder').textContent=`üèÜ ${decoder}—Å`;const game2048=localStorage.getItem('neuro2048Best');if(game2048)document.getElementById('best-2048').textContent=`üèÜ ${game2048} –æ—á`;const stroop=localStorage.getItem('neuroStroopBest');if(stroop)document.getElementById('best-stroop').textContent=`üèÜ ${stroop}—Å`;const math=localStorage.getItem('neuroMathBest');if(math)document.getElementById('best-math').textContent=`üèÜ ${math}—Å`}
        
        function filterGames(difficulty){document.querySelectorAll('.filter-btn').forEach(btn=>btn.classList.remove('active'));event.target.classList.add('active');const cards=document.querySelectorAll('.game-card');cards.forEach(card=>{if(difficulty==='all'){card.style.display='flex'}else{card.style.display=card.dataset.difficulty===difficulty?'flex':'none'}})}
        
        function startGame(name){if(window.checkEnergyBeforeGame(name)){window.consumeEnergyForGame(name);localStorage.setItem('neuroLastGame',name);window.location.href=`games/${name}.html`}}
        
        function showEnergyInfo(){const e=window.energySystem.getEnergy(),t=window.energySystem.getTimeToNextRegen();let msg=`‚ö° –≠–Ω–µ—Ä–≥–∏—è: ${e}/${window.ENERGY_CONFIG.maxEnergy}\n\nüîÑ –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è: +1 –∫–∞–∂–¥—ã–µ ${window.ENERGY_CONFIG.regenMinutes} –º–∏–Ω`;if(t)msg+=`\n‚è∞ +1 —á–µ—Ä–µ–∑ ${t.minutes}:${t.seconds.toString().padStart(2,'0')}`;msg+=`\n\nüí∞ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ: ${window.ENERGY_CONFIG.refillCost} –º–æ–Ω–µ—Ç`;if(confirm(msg+'\n\n–ü–æ–ø–æ–ª–Ω–∏—Ç—å?')){if(window.energySystem.refillEnergy()){alert('‚úÖ –≠–Ω–µ—Ä–≥–∏—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∞!');window.energySystem.updateDisplay()}else{alert('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!')}}}
        
        loadBestScores();
        window.energySystem.updateDisplay();
        setInterval(()=>window.energySystem.updateDisplay(),1000);
    </script>
</body>
</html>
